---
import { getCurrentYear } from '@util/helpers'
import { main, secondary, legal} from '@data/menus'
import site from '@data/site'
import Follow from '@components/socials/Follow.astro'
import SiteBy from '@components/SiteBy.astro'
const currentPath = Astro.url.pathname;
---
<footer class="w-full p-4 text-gray-600 bg-gray-100" role="contentinfo">
  <div class="flex">
    <div class="w-full mx-auto md:w-1/2 lg:w-2/5">
      <h1 class="pt-0 mt-1 text-4xl text-center text-gray-600 font-brand hover:text-black">
        <a href="/" class="block pt-8 pb-4 mx-auto text-center text-gray-600 no-underline hover:text-black">
          {site.title}
        </a>
      </h1>
      <div class="pb-8 mx-auto flex justify-center measure">
        <Follow />
      </div>
      <div class="pb-16 mx-auto text-base leading-normal text-center measure">
        {site.description}
      </div>
    </div>

    <div class="hidden pt-8 sm:flex font-brand lg:w-2/5">
      {[main, secondary].map(menu => (
        <ul class="w-full p-0">
          {menu.map(({copy, url})=> (
          <li class="mb-4 md:text-base lg:text-2xl list-reset">
            <a class="text-gray-600 no-underline dim pointer" href={url} title={`${copy} page`}>
             {copy}
            </a>
          </li>
          ))}
        </ul>
      ))}
    </div>
  </div>
  <div class="md:flex justify-between lg:pt-16">
    <div>
      <a class="px-4 text-xs py-2 block md:inline-block text-gray-600 no-underline hover:text-black" href="{{ .Site.BaseURL }}" >
        &copy;{getCurrentYear()}&nbsp;{site.title}
      </a>         
      {legal.map(({copy, url}) => (
        <a class="py-2 block md:inline-block px-4 text-xs text-gray-600 no-underline hover:text-black" href={url}  title={copy}>
          {copy}
        </a>
      ))}
    </div>

    <div class="px-4 py-2 text-xs text-gray-600 no-underline hover:text-black">
      <SiteBy />
    </div>
  </div>
</footer>